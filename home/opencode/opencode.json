{
  "$schema": "https://opencode.ai/config.json",
  "model": "github/claude-sonnet-4.5",
  "small_model": "github/gpt-5-mini",
  "theme": "opencode",
  "autoupdate": true,
  "permission": {
    "edit": "ask",
    "bash": {
      "git status": "allow",
      "git diff": "allow",
      "git log": "allow",
      "git branch": "allow",
      "dotnet test": "allow",
      "dotnet build": "allow",
      "dotnet run": "allow",
      "bundle exec rspec": "allow",
      "bundle exec rubocop": "allow",
      "bundle install": "allow",
      "mvn test": "allow",
      "mvn compile": "allow",
      "gradle test": "allow",
      "gradle build": "allow",
      "npm test": "allow",
      "yarn test": "allow",
      "*": "ask"
    }
  },
  "agent": {
    "plan": {
      "mode": "primary",
      "model": "github/gpt-5-mini",
      "temperature": 0.1,
      "permission": {
        "edit": "deny",
        "bash": "deny",
        "write": "deny"
      },
      "tools": {
        "write": false,
        "edit": false,
        "bash": false
      }
    },
    "test": {
      "mode": "primary",
      "model": "github/claude-sonnet-4.5",
      "temperature": 0.2,
      "permission": {
        "edit": "ask",
        "bash": "allow",
        "write": "ask"
      }
    },
    "build": {
      "mode": "primary",
      "model": "github/claude-sonnet-4.5",
      "temperature": 0.3,
      "permission": {
        "edit": "ask",
        "bash": "allow",
        "write": "ask"
      }
    },
    "review": {
      "mode": "subagent",
      "model": "github/gpt-5-mini",
      "temperature": 0.1,
      "permission": {
        "edit": "deny",
        "bash": "deny",
        "write": "deny"
      },
      "tools": {
        "write": false,
        "edit": false,
        "bash": false
      }
    },
    "security": {
      "mode": "subagent",
      "model": "github/gpt-5-mini",
      "temperature": 0.1,
      "permission": {
        "edit": "deny",
        "bash": "deny",
        "write": "deny"
      },
      "tools": {
        "write": false,
        "edit": false,
        "bash": false
      }
    },
    "debug": {
      "mode": "subagent",
      "model": "github/claude-sonnet-4.5",
      "temperature": 0.2,
      "permission": {
        "edit": "deny",
        "bash": "allow",
        "write": "deny"
      },
      "tools": {
        "write": false,
        "edit": false,
        "bash": true
      }
    },
    "docs": {
      "mode": "subagent",
      "model": "github/gpt-5-mini",
      "temperature": 0.3,
      "permission": {
        "edit": "ask",
        "bash": "deny",
        "write": "ask"
      }
    },
    "refactor": {
      "mode": "subagent",
      "model": "github/claude-sonnet-4.5",
      "temperature": 0.2,
      "permission": {
        "edit": "ask",
        "bash": "allow",
        "write": "ask"
      }
    }
  },
  "command": {
    "tdd": {
      "template": "@plan Create a detailed implementation plan for: $ARGUMENTS\n\nInclude:\n- Architecture decisions\n- Test strategy (what to test, edge cases)\n- Implementation steps\n- Potential risks\n\nOnce approved, we'll proceed with:\n1. @test Write failing tests first\n2. @build Implement to pass tests\n3. @review Code review\n4. @security Security audit",
      "description": "Full TDD cycle: plan → test → implement → review",
      "agent": "plan"
    },
    "plan": {
      "template": "@plan Create a detailed implementation plan for: $ARGUMENTS\n\nInclude:\n- Architecture decisions\n- Test strategy\n- Implementation steps\n- Potential risks\n- Dependencies and prerequisites",
      "description": "Create implementation plan",
      "agent": "plan"
    },
    "test": {
      "template": "@test Write comprehensive tests for: $ARGUMENTS\n\nFollow TDD principles:\n1. Write failing tests FIRST (Red)\n2. Run tests to confirm they fail\n3. Cover happy path and edge cases\n4. Use appropriate test framework:\n   - C#: xUnit, NUnit, or MSTest\n   - Ruby: RSpec or Minitest\n   - Java: JUnit or TestNG\n5. Follow AAA pattern (Arrange, Act, Assert)\n6. Make tests readable and maintainable",
      "description": "Write tests first (TDD)",
      "agent": "test"
    },
    "implement": {
      "template": "@build Implement the feature to pass existing tests.\n\nRequirements:\n- All tests must pass (Green)\n- Follow existing code patterns and conventions\n- Keep changes minimal and focused\n- Run tests after implementation\n- Ensure code is clean and maintainable",
      "description": "Implement to pass tests",
      "agent": "build"
    },
    "review": {
      "template": "@review Review the current changes for:\n\n**Code Quality:**\n- Best practices for C#/Ruby/Java\n- Code maintainability and readability\n- Adherence to SOLID principles\n- Design patterns usage\n\n**Potential Issues:**\n- Bugs and edge cases\n- Performance implications\n- Memory leaks or resource management\n\n**Testing:**\n- Test coverage adequacy\n- Test quality and maintainability\n\n**Security:**\n- Basic security considerations\n- Input validation\n- Error handling",
      "description": "Code review",
      "agent": "review"
    },
    "security": {
      "template": "@security Perform comprehensive security audit focusing on:\n\n**Common Vulnerabilities:**\n- SQL injection risks\n- XSS vulnerabilities\n- CSRF protection\n- Authentication/authorization flaws\n- Input validation issues\n\n**Data Security:**\n- Sensitive data handling\n- Encryption at rest and in transit\n- Secrets management\n- Data exposure risks\n\n**Dependencies:**\n- Vulnerable dependencies\n- Outdated packages\n\n**Configuration:**\n- Security misconfigurations\n- Default credentials\n- Exposed endpoints\n\nProvide specific recommendations with severity levels.",
      "description": "Security audit",
      "agent": "security"
    },
    "refactor": {
      "template": "@refactor Refactor the code: $ARGUMENTS\n\nRequirements:\n- Run tests BEFORE refactoring to establish baseline\n- Keep tests passing throughout (Green → Green)\n- Improve code quality without changing behavior\n- Follow language-specific best practices\n- Run tests AFTER refactoring to verify behavior unchanged\n- Consider performance implications",
      "description": "Safe refactoring with tests",
      "agent": "refactor"
    },
    "fix": {
      "template": "@debug Debug and fix failing tests.\n\nSteps:\n1. Analyze test failures and error messages\n2. Identify root cause\n3. Propose fix with explanation\n4. Implement fix\n5. Verify all tests pass\n6. Check for regression in other tests",
      "description": "Debug and fix failing tests",
      "agent": "debug"
    },
    "docs": {
      "template": "@docs Generate or update documentation for: $ARGUMENTS\n\nInclude:\n- Clear overview and purpose\n- API documentation with examples\n- Usage patterns and best practices\n- Configuration options\n- Common pitfalls and troubleshooting\n- Code examples in C#/Ruby/Java as appropriate",
      "description": "Generate/update documentation",
      "agent": "docs"
    }
  }
}